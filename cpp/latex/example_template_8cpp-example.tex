\hypertarget{example_template_8cpp-example}{}\section{example\+\_\+template.\+cpp}

\begin{DoxyCodeInclude}
\textcolor{preprocessor}{#include "\hyperlink{main_8hpp}{yacx/main.hpp}"}

\textcolor{keyword}{using} \hyperlink{classyacx_1_1_source}{yacx::Source}, yacx::KernelArg, yacx::Kernel, yacx::Options, yacx::load,
    yacx::type\_of;

\textcolor{keywordtype}{int} main() \{
  \textcolor{keywordtype}{int} result\{\};
  \textcolor{keywordflow}{try} \{
    Source source\{\textcolor{stringliteral}{"template<typename T>\(\backslash\)n"}
                  \textcolor{stringliteral}{"\_\_global\_\_ void f3(int *result) \{ *result = sizeof(T); \}"}\};

    std::vector<KernelArg> args;
    args.push\_back(KernelArg\{&result, \textcolor{keyword}{sizeof}(int), \textcolor{keyword}{true}\});

    dim3 grid(1);
    dim3 block(1);
    source.program(\textcolor{stringliteral}{"f3"})
        .instantiate(\textcolor{stringliteral}{"int"})
        .compile()
        .configure(grid, block)
        .launch(args);
  \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception &e) \{
    std::cerr << e.what() << std::endl;
  \}

  std::cout << \textcolor{stringliteral}{"Expected: "} << \textcolor{keyword}{sizeof}(int) << \textcolor{stringliteral}{" Actual: "} << result
            << std::endl;
  \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCodeInclude}
 